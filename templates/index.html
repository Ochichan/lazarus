{% extends "base.html" %}
{% block version %}{{ version }}{% endblock %}
{% block footer_text %}{{ t["app.footer"] }}{% endblock %}
{% block title %}{{ t["app.name"] }}{% endblock %}
{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1>ğŸ“š {{ t["app.name"] }}</h1>
        <p>{{ t["app.tagline"] }}</p>
    </div>
    <div class="stats-bar">
        <div class="stat">
            <span class="stat-value">{{ notes_count }}</span>
            <span class="stat-label">{{ t["home.notes"] }}</span>
        </div>
        <div class="stat">
            <span class="stat-value">ğŸ”¥ {{ streak }}{{ t["home.day"] }}</span>
            <span class="stat-label">{{ t["home.streak"] }}</span>
        </div>
    </div>
</section>

<section class="quick-actions">
    <h2>{{ t["home.quick_start"] }}</h2>
    <div class="action-grid">
        <a href="/notes/new" class="action-card">
            <span class="icon">ğŸ“</span>
            <span>{{ t["home.new_note"] }}</span>
        </a>
        <a href="/notes" class="action-card">
            <span class="icon">ğŸ“‹</span>
            <span>{{ t["home.note_list"] }}</span>
        </a>
        <a href="/notes/split" class="action-card">
            <span class="icon">ğŸ“‘</span>
            <span>{{ t["home.split_view"] }}</span>
        </a>
        <a href="/srs" class="action-card">
            <span class="icon">ğŸ§ </span>
            <span>{{ t["home.srs_review"] }}</span>
        </a>
        <a href="/search" class="action-card">
            <span class="icon">ğŸ”</span>
            <span>{{ t["home.search"] }}</span>
        </a>
        <a href="/wiki/manage" class="action-card">
            <span class="icon">ğŸ“–</span>
            <span>{{ t["home.zim_manage"] }}</span>
        </a>
        <a href="/graph" class="action-card">
            <span class="icon">ğŸ•¸ï¸</span>
            <span>{{ t["home.knowledge_graph"] }}</span>
        </a>
        <a href="/security" class="action-card">
            <span class="icon">ğŸ”</span>
            <span>{{ t["home.security"] }}</span>
        </a>
        <a href="/usb" class="action-card">
            <span class="icon">ğŸ”Œ</span>
            <span>{{ t["home.usb_sync"] }}</span>
        </a>
    </div>
</section>

<section class="keyboard-hints">
    <h3>{{ t["home.shortcuts"] }}</h3>
    <div class="hints-grid">
        <div class="hint"><kbd>n</kbd> {{ t["home.shortcut.new_note"] }}</div>
        <div class="hint"><kbd>/</kbd> {{ t["home.shortcut.search"] }}</div>
        <div class="hint"><kbd>w</kbd> {{ t["home.shortcut.wiki"] }}</div>
        <div class="hint"><kbd>u</kbd> {{ t["home.shortcut.usb"] }}</div>
        <div class="hint"><kbd>g</kbd> {{ t["home.shortcut.graph"] }}</div>
        <div class="hint"><kbd>r</kbd> {{ t["home.shortcut.review"] }}</div>
        <div class="hint"><kbd>?</kbd> {{ t["home.shortcut.help"] }}</div>
    </div>
</section>

<style>
.lang-selector {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    gap: 0.5rem;
}
.btn-sm {
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
}
</style>

<script>
document.addEventListener('keydown', (e) => {
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
    if (e.key === 'n') window.location.href = '/notes/new';
    if (e.key === '/') { e.preventDefault(); window.location.href = '/search'; }
    if (e.key === 'w') window.location.href = '/wiki/';
    if (e.key === 'u') window.location.href = '/usb';
    if (e.key === 'g') window.location.href = '/graph';
    if (e.key === 'r') window.location.href = '/srs';
});
</script>
{% endblock %}
